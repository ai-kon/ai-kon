<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI-KON ìŠ¤íŠ¸ë¦¬ë° - ì‹¤ì‹œê°„ ë°©ì†¡ í”Œë«í¼</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            background-attachment: fixed;
        }
        .live-pulse {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: .7; }
        }
        .chat-message {
            animation: slideIn 0.3s ease-out;
        }
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        .stream-card:hover {
            transform: translateY(-4px);
            transition: all 0.3s ease;
        }
        .viewer-count-update {
            animation: bounce 0.5s ease;
        }
        @keyframes bounce {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        .emote {
            display: inline-block;
            width: 28px;
            height: 28px;
            background-size: contain;
            vertical-align: middle;
        }
        .theater-mode {
            width: 100% !important;
            max-width: 100% !important;
        }
        .gradient-text {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }
        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
    </style>
</head>
<body class="min-h-screen text-white">
    <!-- Navigation -->
    <nav class="bg-gray-900/95 backdrop-blur-sm shadow-lg sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 py-3">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-6">
                    <h1 class="text-2xl font-bold gradient-text cursor-pointer" onclick="showHomePage()">
                        <i class="fas fa-play-circle"></i> AI-KON
                    </h1>
                    <div class="hidden md:flex space-x-4">
                        <button onclick="filterByCategory('all')" class="px-4 py-2 rounded-lg hover:bg-purple-600 transition">ì „ì²´</button>
                        <button onclick="filterByCategory('ê²Œì„')" class="px-4 py-2 rounded-lg hover:bg-purple-600 transition">ê²Œì„</button>
                        <button onclick="filterByCategory('í† í¬ì‡¼')" class="px-4 py-2 rounded-lg hover:bg-purple-600 transition">í† í¬ì‡¼</button>
                        <button onclick="filterByCategory('ìŒì•…')" class="px-4 py-2 rounded-lg hover:bg-purple-600 transition">ìŒì•…</button>
                        <button onclick="filterByCategory('ìš”ë¦¬')" class="px-4 py-2 rounded-lg hover:bg-purple-600 transition">ìš”ë¦¬</button>
                        <button onclick="filterByCategory('ìŠ¤í¬ì¸ ')" class="px-4 py-2 rounded-lg hover:bg-purple-600 transition">ìŠ¤í¬ì¸ </button>
                        <button onclick="filterByCategory('êµìœ¡')" class="px-4 py-2 rounded-lg hover:bg-purple-600 transition">êµìœ¡</button>
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <div class="relative">
                        <input type="text" id="searchInput" placeholder="ìŠ¤íŠ¸ë¦¬ë¨¸ ê²€ìƒ‰..."
                            class="bg-gray-800 text-white px-4 py-2 rounded-lg pl-10 focus:outline-none focus:ring-2 focus:ring-purple-500"
                            onkeyup="searchStreams()">
                        <i class="fas fa-search absolute left-3 top-3 text-gray-400"></i>
                    </div>
                    <button onclick="showFollowedStreams()" class="px-4 py-2 bg-purple-600 rounded-lg hover:bg-purple-700 transition">
                        <i class="fas fa-heart"></i> íŒ”ë¡œìš°
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div id="mainContent" class="max-w-7xl mx-auto px-4 py-8">
        <!-- Filters -->
        <div class="bg-gray-900/80 backdrop-blur-sm rounded-xl p-4 mb-6 flex items-center justify-between">
            <div class="flex items-center space-x-4">
                <label class="text-gray-300">ì •ë ¬:</label>
                <select id="sortSelect" onchange="sortStreams()" class="bg-gray-800 text-white px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500">
                    <option value="viewers">ì‹œì²­ì ìˆœ</option>
                    <option value="recent">ìµœì‹  ìˆœ</option>
                </select>
                <label class="text-gray-300 ml-6">ì–¸ì–´:</label>
                <select id="languageSelect" onchange="filterByLanguage()" class="bg-gray-800 text-white px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500">
                    <option value="all">ì „ì²´</option>
                    <option value="í•œêµ­ì–´">í•œêµ­ì–´</option>
                    <option value="English">English</option>
                    <option value="æ—¥æœ¬èª">æ—¥æœ¬èª</option>
                </select>
            </div>
            <div class="text-gray-400">
                <i class="fas fa-circle text-red-500 live-pulse"></i> <span id="liveCount">15</span>ê°œ ë¼ì´ë¸Œ ë°©ì†¡
            </div>
        </div>

        <!-- Stream Grid -->
        <div id="streamGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
            <!-- Streams will be dynamically inserted here -->
        </div>
    </div>

    <!-- Stream Player Page (Hidden by default) -->
    <div id="streamPlayer" class="hidden">
        <div class="max-w-7xl mx-auto px-4 py-6">
            <div class="flex gap-6">
                <!-- Video Player -->
                <div id="videoContainer" class="flex-1">
                    <div class="bg-black rounded-lg overflow-hidden">
                        <div class="relative aspect-video bg-gradient-to-br from-purple-900 to-pink-900 flex items-center justify-center">
                            <div class="text-center">
                                <i class="fas fa-play-circle text-8xl mb-4 opacity-50"></i>
                                <p class="text-xl">ë¼ì´ë¸Œ ìŠ¤íŠ¸ë¦¼ ì¬ìƒ ì¤‘...</p>
                            </div>
                            <!-- Live Badge -->
                            <div class="absolute top-4 left-4 bg-red-600 px-3 py-1 rounded-full font-bold text-sm flex items-center live-pulse">
                                <i class="fas fa-circle mr-2"></i> LIVE
                            </div>
                            <!-- Viewer Count -->
                            <div class="absolute top-4 right-4 bg-black/70 px-3 py-1 rounded-full text-sm">
                                <i class="fas fa-eye mr-2"></i> <span id="playerViewerCount">0</span>
                            </div>
                            <!-- Theater Mode Button -->
                            <button onclick="toggleTheaterMode()" class="absolute bottom-4 right-4 bg-black/70 px-3 py-2 rounded-lg hover:bg-black/90 transition">
                                <i class="fas fa-expand"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Video Controls -->
                    <div class="bg-gray-900/90 backdrop-blur-sm rounded-lg p-4 mt-4">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-4">
                                <button class="px-4 py-2 bg-gray-800 rounded-lg hover:bg-gray-700 transition">
                                    <i class="fas fa-volume-up"></i>
                                </button>
                                <select class="bg-gray-800 text-white px-3 py-2 rounded-lg focus:outline-none">
                                    <option>í™”ì§ˆ: 1080p</option>
                                    <option>í™”ì§ˆ: 720p</option>
                                    <option>í™”ì§ˆ: 480p</option>
                                    <option>í™”ì§ˆ: 360p</option>
                                    <option>í™”ì§ˆ: Auto</option>
                                </select>
                            </div>
                            <button onclick="toggleTheaterMode()" class="px-4 py-2 bg-purple-600 rounded-lg hover:bg-purple-700 transition">
                                <i class="fas fa-desktop"></i> ê·¹ì¥ ëª¨ë“œ
                            </button>
                        </div>
                    </div>

                    <!-- Stream Info -->
                    <div class="bg-gray-900/90 backdrop-blur-sm rounded-lg p-6 mt-4">
                        <div class="flex items-start justify-between mb-4">
                            <div class="flex items-center space-x-4">
                                <img id="playerAvatar" src="" alt="" class="w-16 h-16 rounded-full">
                                <div>
                                    <h2 id="playerStreamTitle" class="text-2xl font-bold mb-2"></h2>
                                    <p id="playerStreamerName" class="text-purple-400 text-lg"></p>
                                </div>
                            </div>
                            <div class="flex space-x-2">
                                <button id="followBtn" onclick="toggleFollow()" class="px-6 py-2 bg-purple-600 rounded-lg hover:bg-purple-700 transition font-bold">
                                    <i class="fas fa-heart"></i> íŒ”ë¡œìš°
                                </button>
                                <button onclick="showSubscribeModal()" class="px-6 py-2 bg-pink-600 rounded-lg hover:bg-pink-700 transition font-bold">
                                    <i class="fas fa-star"></i> êµ¬ë…
                                </button>
                                <button onclick="showDonationModal()" class="px-6 py-2 bg-yellow-500 rounded-lg hover:bg-yellow-600 transition font-bold">
                                    <i class="fas fa-gift"></i> í›„ì›
                                </button>
                            </div>
                        </div>
                        <div class="flex items-center space-x-4 text-gray-400 mb-4">
                            <span id="playerCategory" class="bg-purple-900/50 px-3 py-1 rounded-full"></span>
                            <span><i class="fas fa-users"></i> íŒ”ë¡œì›Œ: <span id="playerFollowers">0</span>ëª…</span>
                            <span id="playerLanguage"></span>
                        </div>
                        <div id="playerTags" class="flex flex-wrap gap-2 mb-4">
                            <!-- Tags will be inserted here -->
                        </div>
                        <p id="playerDescription" class="text-gray-300 leading-relaxed"></p>
                    </div>

                    <!-- Tabs -->
                    <div class="bg-gray-900/90 backdrop-blur-sm rounded-lg p-6 mt-4">
                        <div class="flex space-x-6 border-b border-gray-700 mb-6">
                            <button onclick="showTab('vods')" class="pb-3 px-2 border-b-2 border-purple-500 text-purple-400 font-bold">
                                <i class="fas fa-video"></i> ë‹¤ì‹œë³´ê¸°
                            </button>
                            <button onclick="showTab('clips')" class="pb-3 px-2 border-b-2 border-transparent hover:text-purple-400 transition">
                                <i class="fas fa-film"></i> í´ë¦½
                            </button>
                            <button onclick="showTab('about')" class="pb-3 px-2 border-b-2 border-transparent hover:text-purple-400 transition">
                                <i class="fas fa-info-circle"></i> ì†Œê°œ
                            </button>
                        </div>

                        <!-- VODs Tab -->
                        <div id="vodsTab" class="grid grid-cols-3 gap-4">
                            <!-- VODs will be inserted here -->
                        </div>

                        <!-- Clips Tab -->
                        <div id="clipsTab" class="hidden grid grid-cols-3 gap-4">
                            <!-- Clips will be inserted here -->
                        </div>

                        <!-- About Tab -->
                        <div id="aboutTab" class="hidden">
                            <div id="aboutContent">
                                <!-- About content will be inserted here -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Chat Panel -->
                <div class="w-96 bg-gray-900/90 backdrop-blur-sm rounded-lg flex flex-col" style="height: calc(100vh - 8rem);">
                    <div class="p-4 border-b border-gray-700">
                        <h3 class="font-bold text-lg">ì‹¤ì‹œê°„ ì±„íŒ…</h3>
                        <p class="text-sm text-gray-400">ì±„íŒ… ì°¸ì—¬ì: <span id="chatUserCount">247</span>ëª…</p>
                    </div>
                    <div id="chatMessages" class="flex-1 overflow-y-auto p-4 space-y-3 scrollbar-hide">
                        <!-- Chat messages will be inserted here -->
                    </div>
                    <div class="p-4 border-t border-gray-700">
                        <div class="flex space-x-2 mb-2">
                            <button onclick="insertEmote('ğŸ˜€')" class="px-2 py-1 bg-gray-800 rounded hover:bg-gray-700 transition">ğŸ˜€</button>
                            <button onclick="insertEmote('ğŸ˜‚')" class="px-2 py-1 bg-gray-800 rounded hover:bg-gray-700 transition">ğŸ˜‚</button>
                            <button onclick="insertEmote('â¤ï¸')" class="px-2 py-1 bg-gray-800 rounded hover:bg-gray-700 transition">â¤ï¸</button>
                            <button onclick="insertEmote('ğŸ‘')" class="px-2 py-1 bg-gray-800 rounded hover:bg-gray-700 transition">ğŸ‘</button>
                            <button onclick="insertEmote('ğŸ®')" class="px-2 py-1 bg-gray-800 rounded hover:bg-gray-700 transition">ğŸ®</button>
                        </div>
                        <div class="flex space-x-2">
                            <input type="text" id="chatInput" placeholder="ì±„íŒ… ë©”ì‹œì§€ë¥¼ ì…ë ¥í•˜ì„¸ìš”..."
                                class="flex-1 bg-gray-800 text-white px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"
                                onkeypress="if(event.key==='Enter') sendChat()">
                            <button onclick="sendChat()" class="px-6 py-2 bg-purple-600 rounded-lg hover:bg-purple-700 transition">
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Recommended Streams -->
            <div class="mt-8">
                <h3 class="text-2xl font-bold mb-4">ì¶”ì²œ ë°©ì†¡</h3>
                <div id="recommendedStreams" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                    <!-- Recommended streams will be inserted here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Donation Modal -->
    <div id="donationModal" class="hidden fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center">
        <div class="bg-gray-900 rounded-xl p-8 max-w-md w-full mx-4">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-2xl font-bold">í›„ì›í•˜ê¸°</h3>
                <button onclick="closeDonationModal()" class="text-gray-400 hover:text-white">
                    <i class="fas fa-times text-2xl"></i>
                </button>
            </div>
            <div class="space-y-4">
                <div class="grid grid-cols-3 gap-3">
                    <button onclick="selectDonation(1000)" class="bg-purple-600 hover:bg-purple-700 py-3 rounded-lg font-bold transition">1,000ì›</button>
                    <button onclick="selectDonation(5000)" class="bg-purple-600 hover:bg-purple-700 py-3 rounded-lg font-bold transition">5,000ì›</button>
                    <button onclick="selectDonation(10000)" class="bg-purple-600 hover:bg-purple-700 py-3 rounded-lg font-bold transition">10,000ì›</button>
                    <button onclick="selectDonation(30000)" class="bg-purple-600 hover:bg-purple-700 py-3 rounded-lg font-bold transition">30,000ì›</button>
                    <button onclick="selectDonation(50000)" class="bg-purple-600 hover:bg-purple-700 py-3 rounded-lg font-bold transition">50,000ì›</button>
                    <button onclick="selectDonation(100000)" class="bg-purple-600 hover:bg-purple-700 py-3 rounded-lg font-bold transition">100,000ì›</button>
                </div>
                <input type="number" id="customDonation" placeholder="ì§ì ‘ ì…ë ¥" class="w-full bg-gray-800 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500">
                <textarea id="donationMessage" placeholder="í›„ì› ë©”ì‹œì§€ (ì„ íƒì‚¬í•­)" rows="3" class="w-full bg-gray-800 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"></textarea>
                <button onclick="processDonation()" class="w-full bg-gradient-to-r from-purple-600 to-pink-600 py-3 rounded-lg font-bold hover:from-purple-700 hover:to-pink-700 transition">
                    <i class="fas fa-gift mr-2"></i> í›„ì›í•˜ê¸°
                </button>
            </div>
        </div>
    </div>

    <!-- Subscribe Modal -->
    <div id="subscribeModal" class="hidden fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center">
        <div class="bg-gray-900 rounded-xl p-8 max-w-md w-full mx-4">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-2xl font-bold">êµ¬ë…í•˜ê¸°</h3>
                <button onclick="closeSubscribeModal()" class="text-gray-400 hover:text-white">
                    <i class="fas fa-times text-2xl"></i>
                </button>
            </div>
            <div class="space-y-4">
                <div class="bg-gradient-to-r from-purple-600 to-pink-600 p-6 rounded-lg">
                    <h4 class="text-xl font-bold mb-2">í”„ë¦¬ë¯¸ì—„ êµ¬ë…</h4>
                    <p class="text-3xl font-bold mb-2">â‚©4,900 <span class="text-sm font-normal">/ ì›”</span></p>
                    <ul class="space-y-2 text-sm">
                        <li><i class="fas fa-check mr-2"></i> ê´‘ê³  ì—†ìŒ</li>
                        <li><i class="fas fa-check mr-2"></i> ì „ìš© ì´ëª¨í‹°ì½˜</li>
                        <li><i class="fas fa-check mr-2"></i> êµ¬ë…ì ë°°ì§€</li>
                        <li><i class="fas fa-check mr-2"></i> ì±„íŒ… ìš°ì„ ê¶Œ</li>
                        <li><i class="fas fa-check mr-2"></i> VOD ë‹¤ìš´ë¡œë“œ</li>
                    </ul>
                </div>
                <button onclick="processSubscription()" class="w-full bg-gradient-to-r from-purple-600 to-pink-600 py-3 rounded-lg font-bold hover:from-purple-700 hover:to-pink-700 transition">
                    <i class="fas fa-star mr-2"></i> êµ¬ë…í•˜ê¸°
                </button>
            </div>
        </div>
    </div>

    <!-- Notification Toast -->
    <div id="notificationToast" class="hidden fixed top-20 right-4 bg-gray-900 border-l-4 border-purple-500 rounded-lg shadow-2xl p-4 max-w-sm z-50">
        <div class="flex items-center space-x-3">
            <i class="fas fa-bell text-purple-400 text-xl"></i>
            <div>
                <p class="font-bold" id="toastTitle"></p>
                <p class="text-sm text-gray-400" id="toastMessage"></p>
            </div>
        </div>
    </div>

    <script>
        // Sample Stream Data
        const streams = [
            {
                id: 1,
                title: "ë¡¤ ë§ˆìŠ¤í„° ë„ì „! ë‹¤ì´ì•„ ìŠ¹ê¸‰ì „",
                streamer: "í”„ë¡œê²Œì´ë¨¸ê¹€",
                avatar: "https://api.dicebear.com/7.x/avataaars/svg?seed=pro1",
                category: "ê²Œì„",
                game: "ë¦¬ê·¸ ì˜¤ë¸Œ ë ˆì „ë“œ",
                viewers: 12543,
                thumbnail: "https://via.placeholder.com/320x180/9333ea/ffffff?text=LOL+Stream",
                followers: 45200,
                language: "í•œêµ­ì–´",
                tags: ["LOL", "ë­í¬ê²Œì„", "ë‹¤ì´ì•„", "ìŠ¹ê¸‰ì „"],
                description: "ë‹¤ì´ì•„ ìŠ¹ê¸‰ì„ ìœ„í•œ ì—´ì •ì ì¸ í”Œë ˆì´! í•¨ê»˜ ì‘ì›í•´ì£¼ì„¸ìš” ğŸ®"
            },
            {
                id: 2,
                title: "ë°œë¡œë€íŠ¸ ë ˆë””ì–¸íŠ¸ ë­í¬ ë„ì „",
                streamer: "FPSì—¬ì™•",
                avatar: "https://api.dicebear.com/7.x/avataaars/svg?seed=fps1",
                category: "ê²Œì„",
                game: "Valorant",
                viewers: 8234,
                thumbnail: "https://via.placeholder.com/320x180/dc2626/ffffff?text=Valorant",
                followers: 32100,
                language: "í•œêµ­ì–´",
                tags: ["ë°œë¡œë€íŠ¸", "FPS", "ë ˆë””ì–¸íŠ¸", "íŒ€í”Œë ˆì´"],
                description: "ë ˆë””ì–¸íŠ¸ ë­í¬ë¥¼ í–¥í•œ ì—¬ì •! ìµœê³ ì˜ ì—ì„ê³¼ ì „ëµìœ¼ë¡œ ìŠ¹ë¦¬í•˜ê² ìŠµë‹ˆë‹¤ ğŸ¯"
            },
            {
                id: 3,
                title: "ë§ˆì¸í¬ë˜í”„íŠ¸ ì„œë°”ì´ë²Œ ì‹œì¦Œ5",
                streamer: "í¬ë˜í”„í„°ì¤€",
                avatar: "https://api.dicebear.com/7.x/avataaars/svg?seed=craft1",
                category: "ê²Œì„",
                game: "Minecraft",
                viewers: 15789,
                thumbnail: "https://via.placeholder.com/320x180/059669/ffffff?text=Minecraft",
                followers: 67800,
                language: "í•œêµ­ì–´",
                tags: ["ë§ˆì¸í¬ë˜í”„íŠ¸", "ì„œë°”ì´ë²Œ", "ê±´ì¶•", "ëª¨í—˜"],
                description: "ìƒˆë¡œìš´ ì‹œì¦Œ ì‹œì‘! ì—”ë” ë“œë˜ê³¤ í† ë²Œ í”„ë¡œì íŠ¸ ì§„í–‰ ì¤‘ â›ï¸"
            },
            {
                id: 4,
                title: "ì¼ìƒ í† í¬ + ì‹œì²­ìì™€ ì†Œí†µ",
                streamer: "í† í¬ì˜ì—¬ì™•",
                avatar: "https://api.dicebear.com/7.x/avataaars/svg?seed=talk1",
                category: "í† í¬ì‡¼",
                game: "Just Chatting",
                viewers: 5621,
                thumbnail: "https://via.placeholder.com/320x180/ec4899/ffffff?text=Just+Chatting",
                followers: 28400,
                language: "í•œêµ­ì–´",
                tags: ["ì¡ë‹´", "ì†Œí†µ", "íë§", "ASMR"],
                description: "í¸ì•ˆí•œ ìˆ˜ë‹¤ì™€ íë§ ë°©ì†¡ ğŸ’¬ ê³ ë¯¼ ìƒë‹´ë„ í™˜ì˜í•©ë‹ˆë‹¤!"
            },
            {
                id: 5,
                title: "ì‹ ê³¡ ì»¤ë²„ + ë¼ì´ë¸Œ ê³µì—°",
                streamer: "ê°€ìˆ˜ë¯¼ì§€",
                avatar: "https://api.dicebear.com/7.x/avataaars/svg?seed=music1",
                category: "ìŒì•…",
                game: "ìŒì•… ë°©ì†¡",
                viewers: 9876,
                thumbnail: "https://via.placeholder.com/320x180/f59e0b/ffffff?text=Music+Live",
                followers: 52300,
                language: "í•œêµ­ì–´",
                tags: ["ë…¸ë˜", "ì»¤ë²„", "ë¼ì´ë¸Œ", "ìŒì•…"],
                description: "ë§¤ì£¼ ê¸ˆìš”ì¼ ë¼ì´ë¸Œ ê³µì—°! ì‹ ì²­ê³¡ ë°›ìŠµë‹ˆë‹¤ ğŸ¤ğŸµ"
            },
            {
                id: 6,
                title: "ì˜¤ëŠ˜ì˜ ìš”ë¦¬: ê°ë°”ìŠ¤ ì•Œ ì•„íˆìš”",
                streamer: "ì…°í”„ìš”ë¦¬ì™•",
                avatar: "https://api.dicebear.com/7.x/avataaars/svg?seed=chef1",
                category: "ìš”ë¦¬",
                game: "ì¿ í‚¹ í´ë˜ìŠ¤",
                viewers: 4532,
                thumbnail: "https://via.placeholder.com/320x180/10b981/ffffff?text=Cooking+Show",
                followers: 19800,
                language: "í•œêµ­ì–´",
                tags: ["ìš”ë¦¬", "ë ˆì‹œí”¼", "ë§›ì§‘", "ì¿ í‚¹"],
                description: "ì§‘ì—ì„œ ì‰½ê²Œ ë§Œë“œëŠ” ìŠ¤í˜ì¸ ìš”ë¦¬! ë ˆì‹œí”¼ëŠ” ì±„íŒ…ì— ğŸ³"
            },
            {
                id: 7,
                title: "í”„ë¦¬ë¯¸ì–´ë¦¬ê·¸ ì¤‘ê³„ & í•´ì„¤",
                streamer: "ì¶•êµ¬ë°•ì‚¬",
                avatar: "https://api.dicebear.com/7.x/avataaars/svg?seed=sport1",
                category: "ìŠ¤í¬ì¸ ",
                game: "ì¶•êµ¬ ì¤‘ê³„",
                viewers: 11234,
                thumbnail: "https://via.placeholder.com/320x180/3b82f6/ffffff?text=Soccer+Live",
                followers: 41200,
                language: "í•œêµ­ì–´",
                tags: ["ì¶•êµ¬", "í”„ë¦¬ë¯¸ì–´ë¦¬ê·¸", "í•´ì„¤", "ìŠ¤í¬ì¸ "],
                description: "ì—´ì •ì ì¸ í•´ì„¤ê³¼ í•¨ê»˜í•˜ëŠ” í”„ë¦¬ë¯¸ì–´ë¦¬ê·¸ ì¤‘ê³„! âš½"
            },
            {
                id: 8,
                title: "Python í”„ë¡œê·¸ë˜ë° ì…ë¬¸",
                streamer: "ì½”ë”©ì„ ìƒ",
                avatar: "https://api.dicebear.com/7.x/avataaars/svg?seed=edu1",
                category: "êµìœ¡",
                game: "í”„ë¡œê·¸ë˜ë°",
                viewers: 3421,
                thumbnail: "https://via.placeholder.com/320x180/8b5cf6/ffffff?text=Python+Class",
                followers: 15600,
                language: "í•œêµ­ì–´",
                tags: ["í”„ë¡œê·¸ë˜ë°", "Python", "ì½”ë”©", "êµìœ¡"],
                description: "ì´ˆë³´ìë¥¼ ìœ„í•œ íŒŒì´ì¬ ê°•ì˜! ì§ˆë¬¸ì€ ì–¸ì œë‚˜ í™˜ì˜ ğŸ’»"
            },
            {
                id: 9,
                title: "ë°°í‹€ê·¸ë¼ìš´ë“œ ì¹˜í‚¨ ë¨¹ë°©",
                streamer: "ë°°ê·¸ë§ˆìŠ¤í„°",
                avatar: "https://api.dicebear.com/7.x/avataaars/svg?seed=pubg1",
                category: "ê²Œì„",
                game: "PUBG",
                viewers: 6789,
                thumbnail: "https://via.placeholder.com/320x180/eab308/ffffff?text=PUBG+Battle",
                followers: 34500,
                language: "í•œêµ­ì–´",
                tags: ["ë°°ê·¸", "ë°°í‹€ë¡œì–„", "FPS", "ì†”ë¡œ"],
                description: "ì†”ë¡œ ìŠ¤ì¿¼ë“œ ë„ì „! ì˜¤ëŠ˜ë„ ì¹˜í‚¨ì„ í–¥í•´ ğŸ—"
            },
            {
                id: 10,
                title: "ì˜¤ë²„ì›Œì¹˜2 ê²½ìŸì „ ê·¸ë§ˆ ë„ì „",
                streamer: "íƒ±ì»¤ì˜ì‹ ",
                avatar: "https://api.dicebear.com/7.x/avataaars/svg?seed=ow1",
                category: "ê²Œì„",
                game: "Overwatch 2",
                viewers: 7654,
                thumbnail: "https://via.placeholder.com/320x180/f97316/ffffff?text=Overwatch+2",
                followers: 29300,
                language: "í•œêµ­ì–´",
                tags: ["ì˜¤ë²„ì›Œì¹˜", "ê²½ìŸì „", "ê·¸ëœë“œë§ˆìŠ¤í„°", "íƒ±ì»¤"],
                description: "ê·¸ëœë“œë§ˆìŠ¤í„° ë‹¬ì„±ê¹Œì§€! íƒ±ì»¤ ì¥ì¸ì˜ í”Œë ˆì´ ğŸ›¡ï¸"
            },
            {
                id: 11,
                title: "ì‹¬ì•¼ ê°ì„± í† í¬ì‡¼",
                streamer: "ë°¤í† í¬",
                avatar: "https://api.dicebear.com/7.x/avataaars/svg?seed=night1",
                category: "í† í¬ì‡¼",
                game: "Late Night Talk",
                viewers: 4123,
                thumbnail: "https://via.placeholder.com/320x180/6366f1/ffffff?text=Night+Talk",
                followers: 21700,
                language: "í•œêµ­ì–´",
                tags: ["ì‹¬ì•¼ë°©ì†¡", "ê°ì„±", "í† í¬", "íë§"],
                description: "ì  ëª» ì´ë£¨ëŠ” ë°¤, í•¨ê»˜ ì´ì•¼ê¸°í•´ìš” ğŸŒ™"
            },
            {
                id: 12,
                title: "ê¸°íƒ€ ì—°ì£¼ & ì¦‰í¥ ì‘ê³¡",
                streamer: "ê¸°íƒ€ë¦¬ìŠ¤íŠ¸",
                avatar: "https://api.dicebear.com/7.x/avataaars/svg?seed=guitar1",
                category: "ìŒì•…",
                game: "ê¸°íƒ€ ì—°ì£¼",
                viewers: 3876,
                thumbnail: "https://via.placeholder.com/320x180/db2777/ffffff?text=Guitar+Live",
                followers: 18900,
                language: "í•œêµ­ì–´",
                tags: ["ê¸°íƒ€", "ì—°ì£¼", "ì‘ê³¡", "ìŒì•…"],
                description: "ê°ì„± ê°€ë“í•œ ê¸°íƒ€ ì—°ì£¼ ğŸ¸ ì‹ ì²­ê³¡ ë°›ì•„ìš”!"
            },
            {
                id: 13,
                title: "í™ˆ ì¹´í˜ ë§Œë“¤ê¸° - ë¼ë–¼ì•„íŠ¸",
                streamer: "ë°”ë¦¬ìŠ¤íƒ€ì¹´í˜",
                avatar: "https://api.dicebear.com/7.x/avataaars/svg?seed=cafe1",
                category: "ìš”ë¦¬",
                game: "ì¹´í˜ í´ë˜ìŠ¤",
                viewers: 2987,
                thumbnail: "https://via.placeholder.com/320x180/78716c/ffffff?text=Cafe+Class",
                followers: 12400,
                language: "í•œêµ­ì–´",
                tags: ["ì»¤í”¼", "ë¼ë–¼ì•„íŠ¸", "ë°”ë¦¬ìŠ¤íƒ€", "ì¹´í˜"],
                description: "ì§‘ì—ì„œ ì¦ê¸°ëŠ” ì¹´í˜ í€„ë¦¬í‹°! ë¼ë–¼ì•„íŠ¸ ê°•ì˜ â˜•"
            },
            {
                id: 14,
                title: "NBA ê²½ê¸° ë¶„ì„ & ë¦¬ë·°",
                streamer: "ë†êµ¬ì „ë¬¸ê°€",
                avatar: "https://api.dicebear.com/7.x/avataaars/svg?seed=nba1",
                category: "ìŠ¤í¬ì¸ ",
                game: "NBA",
                viewers: 5432,
                thumbnail: "https://via.placeholder.com/320x180/ea580c/ffffff?text=NBA+Analysis",
                followers: 27800,
                language: "í•œêµ­ì–´",
                tags: ["NBA", "ë†êµ¬", "ë¶„ì„", "ìŠ¤í¬ì¸ "],
                description: "NBA ìµœì‹  ê²½ê¸° ë¶„ì„ê³¼ í•˜ì´ë¼ì´íŠ¸ ğŸ€"
            },
            {
                id: 15,
                title: "ì›¹ ê°œë°œ í’€ìŠ¤íƒ ê°•ì˜",
                streamer: "ê°œë°œìì´ì¤€",
                avatar: "https://api.dicebear.com/7.x/avataaars/svg?seed=dev1",
                category: "êµìœ¡",
                game: "ì›¹ ê°œë°œ",
                viewers: 4567,
                thumbnail: "https://via.placeholder.com/320x180/0891b2/ffffff?text=Web+Dev",
                followers: 22100,
                language: "í•œêµ­ì–´",
                tags: ["ì›¹ê°œë°œ", "í’€ìŠ¤íƒ", "JavaScript", "React"],
                description: "ì‹¤ì „ í”„ë¡œì íŠ¸ë¡œ ë°°ìš°ëŠ” ì›¹ ê°œë°œ! ğŸ’»ğŸš€"
            }
        ];

        let currentStreamId = null;
        let isTheaterMode = false;
        let followedChannels = JSON.parse(localStorage.getItem('followedChannels') || '[]');
        let chatInterval = null;

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            renderStreams(streams);
            updateLiveCount();
        });

        // Render Streams
        function renderStreams(streamList) {
            const grid = document.getElementById('streamGrid');
            grid.innerHTML = '';

            streamList.forEach(stream => {
                const card = document.createElement('div');
                card.className = 'stream-card bg-gray-900/80 backdrop-blur-sm rounded-xl overflow-hidden cursor-pointer shadow-lg';
                card.onclick = () => openStream(stream.id);

                card.innerHTML = `
                    <div class="relative">
                        <img src="${stream.thumbnail}" alt="${stream.title}" class="w-full aspect-video object-cover">
                        <div class="absolute top-2 left-2 bg-red-600 px-2 py-1 rounded text-xs font-bold flex items-center live-pulse">
                            <i class="fas fa-circle mr-1"></i> LIVE
                        </div>
                        <div class="absolute bottom-2 left-2 bg-black/70 px-2 py-1 rounded text-xs font-bold">
                            <i class="fas fa-eye mr-1"></i> ${formatViewers(stream.viewers)}
                        </div>
                    </div>
                    <div class="p-4">
                        <div class="flex items-start space-x-3">
                            <img src="${stream.avatar}" alt="${stream.streamer}" class="w-10 h-10 rounded-full">
                            <div class="flex-1 min-w-0">
                                <h3 class="font-bold text-sm mb-1 truncate">${stream.title}</h3>
                                <p class="text-gray-400 text-xs mb-1">${stream.streamer}</p>
                                <p class="text-gray-500 text-xs">${stream.game}</p>
                            </div>
                        </div>
                    </div>
                `;

                grid.appendChild(card);
            });
        }

        // Open Stream Player
        function openStream(streamId) {
            currentStreamId = streamId;
            const stream = streams.find(s => s.id === streamId);
            if (!stream) return;

            // Hide main content, show player
            document.getElementById('mainContent').classList.add('hidden');
            document.getElementById('streamPlayer').classList.remove('hidden');

            // Update player info
            document.getElementById('playerAvatar').src = stream.avatar;
            document.getElementById('playerStreamTitle').textContent = stream.title;
            document.getElementById('playerStreamerName').textContent = stream.streamer;
            document.getElementById('playerCategory').textContent = stream.game;
            document.getElementById('playerFollowers').textContent = stream.followers.toLocaleString();
            document.getElementById('playerLanguage').textContent = stream.language;
            document.getElementById('playerDescription').textContent = stream.description;
            document.getElementById('playerViewerCount').textContent = formatViewers(stream.viewers);

            // Update follow button
            const followBtn = document.getElementById('followBtn');
            if (followedChannels.includes(streamId)) {
                followBtn.innerHTML = '<i class="fas fa-heart"></i> íŒ”ë¡œì‰';
                followBtn.classList.add('bg-pink-600');
                followBtn.classList.remove('bg-purple-600');
            } else {
                followBtn.innerHTML = '<i class="fas fa-heart"></i> íŒ”ë¡œìš°';
                followBtn.classList.remove('bg-pink-600');
                followBtn.classList.add('bg-purple-600');
            }

            // Render tags
            const tagsContainer = document.getElementById('playerTags');
            tagsContainer.innerHTML = stream.tags.map(tag =>
                `<span class="bg-gray-800 px-3 py-1 rounded-full text-xs">${tag}</span>`
            ).join('');

            // Load VODs
            loadVODs(stream);

            // Load Clips
            loadClips(stream);

            // Load About
            loadAbout(stream);

            // Start chat simulation
            startChatSimulation();

            // Update viewer count periodically
            startViewerCountUpdate(stream);

            // Load recommended streams
            loadRecommendedStreams(streamId);

            // Scroll to top
            window.scrollTo(0, 0);
        }

        // Show Home Page
        function showHomePage() {
            document.getElementById('mainContent').classList.remove('hidden');
            document.getElementById('streamPlayer').classList.add('hidden');
            currentStreamId = null;
            stopChatSimulation();
        }

        // Load VODs
        function loadVODs(stream) {
            const vodsTab = document.getElementById('vodsTab');
            const vods = [
                { title: 'ì–´ì œ ë°©ì†¡ í•˜ì´ë¼ì´íŠ¸', views: 12500, duration: '3:24:15', date: '1ì¼ ì „' },
                { title: 'ë ˆì „ë“œ í”Œë ˆì´ ëª¨ìŒ', views: 8900, duration: '2:15:32', date: '3ì¼ ì „' },
                { title: 'ì‹œì²­ìì™€ í•¨ê»˜í•œ íŠ¹ë³„ë°©ì†¡', views: 15600, duration: '4:02:45', date: '5ì¼ ì „' },
                { title: 'ì›”ê°„ ë² ìŠ¤íŠ¸ í´ë¦½', views: 23400, duration: '1:45:20', date: '1ì£¼ ì „' },
                { title: 'ì´ˆë³´ì ê°€ì´ë“œ', views: 6700, duration: '2:30:18', date: '2ì£¼ ì „' },
                { title: 'íŒ¬ê³¼ì˜ Q&A ì‹œê°„', views: 9800, duration: '1:52:33', date: '2ì£¼ ì „' }
            ];

            vodsTab.innerHTML = vods.map(vod => `
                <div class="bg-gray-800 rounded-lg overflow-hidden cursor-pointer hover:bg-gray-700 transition">
                    <div class="relative">
                        <div class="w-full aspect-video bg-gradient-to-br from-purple-900 to-pink-900 flex items-center justify-center">
                            <i class="fas fa-play-circle text-4xl opacity-50"></i>
                        </div>
                        <div class="absolute bottom-2 right-2 bg-black/70 px-2 py-1 rounded text-xs font-bold">
                            ${vod.duration}
                        </div>
                    </div>
                    <div class="p-3">
                        <h4 class="font-bold text-sm mb-1 truncate">${vod.title}</h4>
                        <p class="text-gray-400 text-xs">${formatViewers(vod.views)} ì¡°íšŒ Â· ${vod.date}</p>
                    </div>
                </div>
            `).join('');
        }

        // Load Clips
        function loadClips(stream) {
            const clipsTab = document.getElementById('clipsTab');
            const clips = [
                { title: 'ë¯¸ì¹œ í”Œë ˆì´!!!', views: 45600, duration: '0:32', creator: 'í´ë¦½ëŸ¬ë²„' },
                { title: 'ì›ƒê¸´ ìˆœê°„ ã…‹ã…‹ã…‹', views: 34200, duration: '0:45', creator: 'ì¬ë°Œì–´ìš”' },
                { title: 'ëŒ€ë°• ì¥ë©´', views: 28900, duration: '0:28', creator: 'í´ë¦½ì™•' },
                { title: 'ì´ê±´ ë´ì•¼í•¨', views: 52300, duration: '0:38', creator: 'í•˜ì´ë¼ì´íŠ¸' },
                { title: 'ì—­ëŒ€ê¸‰ ìˆœê°„', views: 67800, duration: '0:55', creator: 'ë² ìŠ¤íŠ¸í´ë¦½' },
                { title: 'ê°ë™ì˜ ìˆœê°„', views: 41200, duration: '1:02', creator: 'ê°ë™ë§¨' }
            ];

            clipsTab.innerHTML = clips.map(clip => `
                <div class="bg-gray-800 rounded-lg overflow-hidden cursor-pointer hover:bg-gray-700 transition">
                    <div class="relative">
                        <div class="w-full aspect-video bg-gradient-to-br from-pink-900 to-purple-900 flex items-center justify-center">
                            <i class="fas fa-film text-4xl opacity-50"></i>
                        </div>
                        <div class="absolute bottom-2 right-2 bg-black/70 px-2 py-1 rounded text-xs font-bold">
                            ${clip.duration}
                        </div>
                        <button class="absolute top-2 right-2 bg-purple-600 hover:bg-purple-700 px-2 py-1 rounded text-xs">
                            <i class="fas fa-share"></i>
                        </button>
                    </div>
                    <div class="p-3">
                        <h4 class="font-bold text-sm mb-1 truncate">${clip.title}</h4>
                        <p class="text-gray-400 text-xs mb-1">${formatViewers(clip.views)} ì¡°íšŒ</p>
                        <p class="text-gray-500 text-xs">í´ë¦½ ì œì‘: ${clip.creator}</p>
                    </div>
                </div>
            `).join('');
        }

        // Load About
        function loadAbout(stream) {
            const aboutContent = document.getElementById('aboutContent');
            aboutContent.innerHTML = `
                <div class="space-y-6">
                    <div>
                        <h4 class="font-bold text-lg mb-2">ìŠ¤íŠ¸ë¦¬ë¨¸ ì†Œê°œ</h4>
                        <p class="text-gray-300 leading-relaxed">${stream.description}</p>
                    </div>
                    <div>
                        <h4 class="font-bold text-lg mb-2">ë°©ì†¡ ì •ë³´</h4>
                        <div class="grid grid-cols-2 gap-4">
                            <div class="bg-gray-800 p-4 rounded-lg">
                                <p class="text-gray-400 text-sm mb-1">ì¹´í…Œê³ ë¦¬</p>
                                <p class="font-bold">${stream.category}</p>
                            </div>
                            <div class="bg-gray-800 p-4 rounded-lg">
                                <p class="text-gray-400 text-sm mb-1">ì–¸ì–´</p>
                                <p class="font-bold">${stream.language}</p>
                            </div>
                            <div class="bg-gray-800 p-4 rounded-lg">
                                <p class="text-gray-400 text-sm mb-1">íŒ”ë¡œì›Œ</p>
                                <p class="font-bold">${stream.followers.toLocaleString()}ëª…</p>
                            </div>
                            <div class="bg-gray-800 p-4 rounded-lg">
                                <p class="text-gray-400 text-sm mb-1">í˜„ì¬ ì‹œì²­ì</p>
                                <p class="font-bold">${formatViewers(stream.viewers)}</p>
                            </div>
                        </div>
                    </div>
                    <div>
                        <h4 class="font-bold text-lg mb-2">ì†Œì…œ ë¯¸ë””ì–´</h4>
                        <div class="flex space-x-3">
                            <a href="#" class="bg-gray-800 px-4 py-2 rounded-lg hover:bg-gray-700 transition">
                                <i class="fab fa-twitter"></i> Twitter
                            </a>
                            <a href="#" class="bg-gray-800 px-4 py-2 rounded-lg hover:bg-gray-700 transition">
                                <i class="fab fa-instagram"></i> Instagram
                            </a>
                            <a href="#" class="bg-gray-800 px-4 py-2 rounded-lg hover:bg-gray-700 transition">
                                <i class="fab fa-youtube"></i> YouTube
                            </a>
                        </div>
                    </div>
                </div>
            `;
        }

        // Show Tab
        function showTab(tabName) {
            document.getElementById('vodsTab').classList.add('hidden');
            document.getElementById('clipsTab').classList.add('hidden');
            document.getElementById('aboutTab').classList.add('hidden');

            if (tabName === 'vods') {
                document.getElementById('vodsTab').classList.remove('hidden');
            } else if (tabName === 'clips') {
                document.getElementById('clipsTab').classList.remove('hidden');
            } else if (tabName === 'about') {
                document.getElementById('aboutTab').classList.remove('hidden');
            }
        }

        // Chat Simulation
        const chatMessages = [
            { user: 'ê²Œì„ë§ˆìŠ¤í„°', message: 'ì™€ ë¯¸ì³¤ë‹¤ ã…‹ã…‹ã…‹', badge: 'sub' },
            { user: 'ì‹œì²­ì123', message: 'ã„¹ã…‡ ê°œì˜í•œë‹¤', badge: null },
            { user: 'í”„ë¡œê´€ì „ëŸ¬', message: 'ì´ê±° ì–´ë–»ê²Œ í•œê±°ì•¼?', badge: null },
            { user: 'í›„ì›ì™•', message: '10,000ì› í›„ì›í–ˆì–´ìš”!', badge: 'donor' },
            { user: 'êµ¬ë…ìë‹˜', message: 'ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹', badge: 'sub' },
            { user: 'ì—´í˜ˆíŒ¬', message: 'ì˜¤ëŠ˜ë„ ì¬ë°Œë„¤ìš” ğŸ˜€', badge: 'sub' },
            { user: 'ì‹ ì…ì‹œì²­ì', message: 'ì²˜ìŒ ì™”ëŠ”ë° ì¬ë°Œì–´ìš”!', badge: null },
            { user: 'ë² í…Œë‘', message: 'ì´ ìŠ¤í‚¬ ì–´ë–»ê²Œ ì¨ìš”?', badge: null },
            { user: 'ì‘ì›ë‹¨ì¥', message: 'í™”ì´íŒ…!!! ğŸ‘', badge: 'sub' },
            { user: 'ë°¤ìƒˆëŠ”ì‚¬ëŒ', message: 'ì˜¤ëŠ˜ ë°¤ìƒ˜ ê°ì¸ê°€?', badge: null }
        ];

        function startChatSimulation() {
            const chatContainer = document.getElementById('chatMessages');

            // Add initial messages
            for (let i = 0; i < 10; i++) {
                addChatMessage(chatMessages[Math.floor(Math.random() * chatMessages.length)]);
            }

            // Continue adding messages
            chatInterval = setInterval(() => {
                const msg = chatMessages[Math.floor(Math.random() * chatMessages.length)];
                addChatMessage(msg);

                // Update chat user count
                const count = 247 + Math.floor(Math.random() * 20) - 10;
                document.getElementById('chatUserCount').textContent = count;
            }, 3000 + Math.random() * 4000);
        }

        function stopChatSimulation() {
            if (chatInterval) {
                clearInterval(chatInterval);
                chatInterval = null;
            }
        }

        function addChatMessage(msg) {
            const chatContainer = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = 'chat-message';

            let badgeHtml = '';
            if (msg.badge === 'sub') {
                badgeHtml = '<span class="bg-purple-600 px-2 py-0.5 rounded text-xs mr-2">êµ¬ë…ì</span>';
            } else if (msg.badge === 'donor') {
                badgeHtml = '<span class="bg-yellow-500 text-black px-2 py-0.5 rounded text-xs mr-2">í›„ì›</span>';
            }

            messageDiv.innerHTML = `
                <div class="flex items-start space-x-2">
                    <div class="flex-1">
                        ${badgeHtml}
                        <span class="font-bold text-purple-400">${msg.user}</span>
                        <span class="text-gray-300 ml-2">${msg.message}</span>
                    </div>
                </div>
            `;

            chatContainer.appendChild(messageDiv);
            chatContainer.scrollTop = chatContainer.scrollHeight;

            // Keep only last 50 messages
            while (chatContainer.children.length > 50) {
                chatContainer.removeChild(chatContainer.firstChild);
            }
        }

        function sendChat() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            if (!message) return;

            addChatMessage({
                user: 'ë‚˜',
                message: message,
                badge: 'sub'
            });

            input.value = '';
        }

        function insertEmote(emote) {
            const input = document.getElementById('chatInput');
            input.value += emote;
            input.focus();
        }

        // Viewer Count Update
        function startViewerCountUpdate(stream) {
            setInterval(() => {
                const variation = Math.floor(Math.random() * 200) - 100;
                const newCount = Math.max(stream.viewers + variation, 100);
                const element = document.getElementById('playerViewerCount');
                element.textContent = formatViewers(newCount);
                element.classList.add('viewer-count-update');
                setTimeout(() => element.classList.remove('viewer-count-update'), 500);
            }, 5000);
        }

        // Recommended Streams
        function loadRecommendedStreams(currentId) {
            const recommended = streams.filter(s => s.id !== currentId).slice(0, 4);
            const container = document.getElementById('recommendedStreams');

            container.innerHTML = recommended.map(stream => `
                <div class="bg-gray-900/80 backdrop-blur-sm rounded-lg overflow-hidden cursor-pointer hover:bg-gray-800 transition" onclick="openStream(${stream.id})">
                    <div class="relative">
                        <img src="${stream.thumbnail}" alt="${stream.title}" class="w-full aspect-video object-cover">
                        <div class="absolute top-2 left-2 bg-red-600 px-2 py-1 rounded text-xs font-bold flex items-center live-pulse">
                            <i class="fas fa-circle mr-1"></i> LIVE
                        </div>
                        <div class="absolute bottom-2 left-2 bg-black/70 px-2 py-1 rounded text-xs font-bold">
                            <i class="fas fa-eye mr-1"></i> ${formatViewers(stream.viewers)}
                        </div>
                    </div>
                    <div class="p-3">
                        <h4 class="font-bold text-sm mb-1 truncate">${stream.title}</h4>
                        <p class="text-gray-400 text-xs mb-1">${stream.streamer}</p>
                        <p class="text-gray-500 text-xs">${stream.game}</p>
                    </div>
                </div>
            `).join('');
        }

        // Follow System
        function toggleFollow() {
            if (!currentStreamId) return;

            const index = followedChannels.indexOf(currentStreamId);
            const followBtn = document.getElementById('followBtn');

            if (index > -1) {
                followedChannels.splice(index, 1);
                followBtn.innerHTML = '<i class="fas fa-heart"></i> íŒ”ë¡œìš°';
                followBtn.classList.remove('bg-pink-600');
                followBtn.classList.add('bg-purple-600');
                showNotification('íŒ”ë¡œìš° ì·¨ì†Œ', 'íŒ”ë¡œìš°ê°€ ì·¨ì†Œë˜ì—ˆìŠµë‹ˆë‹¤.');
            } else {
                followedChannels.push(currentStreamId);
                followBtn.innerHTML = '<i class="fas fa-heart"></i> íŒ”ë¡œì‰';
                followBtn.classList.add('bg-pink-600');
                followBtn.classList.remove('bg-purple-600');
                showNotification('íŒ”ë¡œìš° ì„±ê³µ!', 'ì´ì œ ìŠ¤íŠ¸ë¦¬ë¨¸ì˜ ì•Œë¦¼ì„ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.');
            }

            localStorage.setItem('followedChannels', JSON.stringify(followedChannels));
        }

        function showFollowedStreams() {
            if (followedChannels.length === 0) {
                showNotification('íŒ”ë¡œìš° ì—†ìŒ', 'íŒ”ë¡œìš°í•œ ì±„ë„ì´ ì—†ìŠµë‹ˆë‹¤.');
                return;
            }

            const followed = streams.filter(s => followedChannels.includes(s.id));
            renderStreams(followed);
            showHomePage();
        }

        // Theater Mode
        function toggleTheaterMode() {
            isTheaterMode = !isTheaterMode;
            const videoContainer = document.getElementById('videoContainer');

            if (isTheaterMode) {
                videoContainer.classList.add('theater-mode');
            } else {
                videoContainer.classList.remove('theater-mode');
            }
        }

        // Donation Modal
        let selectedDonationAmount = 0;

        function showDonationModal() {
            document.getElementById('donationModal').classList.remove('hidden');
        }

        function closeDonationModal() {
            document.getElementById('donationModal').classList.add('hidden');
            selectedDonationAmount = 0;
            document.getElementById('customDonation').value = '';
            document.getElementById('donationMessage').value = '';
        }

        function selectDonation(amount) {
            selectedDonationAmount = amount;
            document.getElementById('customDonation').value = amount;
        }

        function processDonation() {
            const amount = parseInt(document.getElementById('customDonation').value) || selectedDonationAmount;
            const message = document.getElementById('donationMessage').value;

            if (amount < 1000) {
                alert('ìµœì†Œ í›„ì› ê¸ˆì•¡ì€ 1,000ì›ì…ë‹ˆë‹¤.');
                return;
            }

            showNotification('í›„ì› ì™„ë£Œ!', `${amount.toLocaleString()}ì›ì´ í›„ì›ë˜ì—ˆìŠµë‹ˆë‹¤. ê°ì‚¬í•©ë‹ˆë‹¤!`);

            // Add to chat
            addChatMessage({
                user: 'ë‚˜',
                message: `${amount.toLocaleString()}ì› í›„ì›í–ˆìŠµë‹ˆë‹¤! ${message}`,
                badge: 'donor'
            });

            closeDonationModal();
        }

        // Subscribe Modal
        function showSubscribeModal() {
            document.getElementById('subscribeModal').classList.remove('hidden');
        }

        function closeSubscribeModal() {
            document.getElementById('subscribeModal').classList.add('hidden');
        }

        function processSubscription() {
            showNotification('êµ¬ë… ì™„ë£Œ!', 'í”„ë¦¬ë¯¸ì—„ êµ¬ë…ì´ í™œì„±í™”ë˜ì—ˆìŠµë‹ˆë‹¤!');
            closeSubscribeModal();
        }

        // Notification System
        function showNotification(title, message) {
            const toast = document.getElementById('notificationToast');
            document.getElementById('toastTitle').textContent = title;
            document.getElementById('toastMessage').textContent = message;

            toast.classList.remove('hidden');

            setTimeout(() => {
                toast.classList.add('hidden');
            }, 3000);
        }

        // Filter by Category
        function filterByCategory(category) {
            if (category === 'all') {
                renderStreams(streams);
            } else {
                const filtered = streams.filter(s => s.category === category);
                renderStreams(filtered);
            }
            showHomePage();
        }

        // Sort Streams
        function sortStreams() {
            const sortBy = document.getElementById('sortSelect').value;
            let sorted = [...streams];

            if (sortBy === 'viewers') {
                sorted.sort((a, b) => b.viewers - a.viewers);
            } else if (sortBy === 'recent') {
                sorted.sort((a, b) => b.id - a.id);
            }

            renderStreams(sorted);
        }

        // Filter by Language
        function filterByLanguage() {
            const language = document.getElementById('languageSelect').value;

            if (language === 'all') {
                renderStreams(streams);
            } else {
                const filtered = streams.filter(s => s.language === language);
                renderStreams(filtered);
            }
        }

        // Search Streams
        function searchStreams() {
            const query = document.getElementById('searchInput').value.toLowerCase();

            if (!query) {
                renderStreams(streams);
                return;
            }

            const filtered = streams.filter(s =>
                s.title.toLowerCase().includes(query) ||
                s.streamer.toLowerCase().includes(query) ||
                s.game.toLowerCase().includes(query) ||
                s.category.toLowerCase().includes(query)
            );

            renderStreams(filtered);
        }

        // Update Live Count
        function updateLiveCount() {
            setInterval(() => {
                const count = 15 + Math.floor(Math.random() * 5);
                document.getElementById('liveCount').textContent = count;
            }, 10000);
        }

        // Format Viewers
        function formatViewers(count) {
            if (count >= 1000) {
                return (count / 1000).toFixed(1) + 'K';
            }
            return count.toString();
        }

        // Random notification simulation
        setInterval(() => {
            if (Math.random() > 0.7 && currentStreamId) {
                const notifications = [
                    { title: 'ìƒˆ íŒ”ë¡œì›Œ!', message: 'ì‹œì²­ì123ë‹˜ì´ íŒ”ë¡œìš°í–ˆìŠµë‹ˆë‹¤.' },
                    { title: 'í›„ì› ì•Œë¦¼', message: 'ê²Œì„ë§ˆìŠ¤í„°ë‹˜ì´ 5,000ì› í›„ì›!' },
                    { title: 'êµ¬ë… ì•Œë¦¼', message: 'ì‹ ê·œ êµ¬ë…ìê°€ ìƒê²¼ìŠµë‹ˆë‹¤!' },
                    { title: 'ë ˆì´ë“œ!', message: 'ë‹¤ë¥¸ ë°©ì†¡ì—ì„œ 50ëª…ì´ ì™”ìŠµë‹ˆë‹¤!' }
                ];
                const notif = notifications[Math.floor(Math.random() * notifications.length)];
                showNotification(notif.title, notif.message);
            }
        }, 15000);
    </script>
</body>
</html>